<!DOCTYPE html>
<html>
<head>
    <!-- Previous head content remains the same -->
    <title>3D Head Model</title>
    <meta name="theme-color" content="#4A90E2">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <style>
        /* Previous styles remain the same */
        body {
            margin: 0;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            touch-action: none;
            background: #4A90E2;
        }
        #container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            cursor: grab;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        #container.loaded {
            opacity: 1;
        }
        #container:active {
            cursor: grabbing;
        }
        #gradient-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            transition: all 2s ease;
        }
        #error-message {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(255, 0, 0, 0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            display: none;
            z-index: 1000;
        }
        #loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
            text-align: center;
            transition: opacity 0.5s ease;
        }
        #loading.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            margin: 0 auto 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Previous body content remains the same -->
    <div id="loading">
        <div class="spinner"></div>
        <div id="loading-text">Loading 3D Model...</div>
        <div id="loading-progress"></div>
    </div>
    <div id="error-message"></div>
    <div id="gradient-container"></div>
    <div id="container"></div>

    <script>
        // Scene setup
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('container').appendChild(renderer.domElement);

        const headGroup = new THREE.Group();
        scene.add(headGroup);

        // Enhanced lighting setup
        // Main front light
        const frontLight = new THREE.DirectionalLight(0xffffff, 1.5);
        frontLight.position.set(0, 0, 5);
        scene.add(frontLight);

        // Top light
        const topLight = new THREE.DirectionalLight(0xffffff, 1);
        topLight.position.set(0, 5, 0);
        scene.add(topLight);

        // Left and right rim lights
        const leftLight = new THREE.DirectionalLight(0xffffff, 0.75);
        leftLight.position.set(-5, 0, 0);
        scene.add(leftLight);

        const rightLight = new THREE.DirectionalLight(0xffffff, 0.75);
        rightLight.position.set(5, 0, 0);
        scene.add(rightLight);

        // Increased ambient light
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);
        scene.add(ambientLight);

        camera.position.z = 6;

        // Rest of the code remains the same until model loading
        const loader = new THREE.GLTFLoader();
        
        fetch('HEAD.glb')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                console.log('GLB file found, attempting to load...');
                
                loader.load(
                    'HEAD.glb',
                    function(gltf) {
                        console.log('Model loaded successfully');
                        const box = new THREE.Box3().setFromObject(gltf.scene);
                        const center = box.getCenter(new THREE.Vector3());
                        const size = box.getSize(new THREE.Vector3());
                        
                        // Traverse the model and modify materials for better lighting
                        gltf.scene.traverse((node) => {
                            if (node.isMesh) {
                                // Increase material brightness
                                if (node.material) {
                                    node.material.roughness = 0.5; // Adjust this value (0-1)
                                    node.material.metalness = 0.3; // Adjust this value (0-1)
                                    // Optional: add emissive glow
                                    node.material.emissive = new THREE.Color(0x333333);
                                }
                            }
                        });
                        
                        const maxDim = Math.max(size.x, size.y, size.z);
                        const scale = 4 / maxDim;
                        gltf.scene.scale.multiplyScalar(scale);
                        
                        gltf.scene.position.sub(center.multiplyScalar(scale));
                        
                        headGroup.add(gltf.scene);

                        // Hide loading indicator and show model
                        document.getElementById('loading').classList.add('hidden');
                        document.getElementById('container').classList.add('loaded');
                    },
                    function(xhr) {
                        if (xhr.lengthComputable) {
                            const percentComplete = (xhr.loaded / xhr.total * 100).toFixed(0);
                            document.getElementById('loading-progress').textContent = 
                                `${percentComplete}%`;
                        }
                    },
                    function(error) {
                        showError('Error loading model: ' + error.message);
                        document.getElementById('loading').classList.add('hidden');
                    }
                );
            })
            .catch(error => {
                showError('Error fetching GLB file: ' + error.message);
                document.getElementById('loading').classList.add('hidden');
            });

        // [Rest of the code remains exactly the same]
    </script>
</body>
</html>